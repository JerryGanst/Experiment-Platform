| 指标类别      | 具体度量                                                                           | 记录方式 & 解释                                         |
| --------- | ------------------------------------------------------------------------------ | ------------------------------------------------- |
| **资源**    | 峰值 GPU 显存 (MB)                                                                 | `torch.cuda.max_memory_allocated()` —> 直接衡量部署内存需求 |
|           | KV 压缩率 (%)                                                                     | 实际保留条目 ÷ 原始 KV 条目                                 |
| **速度**    | 吞吐量 (tokens/s)<br>时延 (ms/token)                                                | 推理端到端计时；超长序列要求吞吐量近似恒定                             |
| **质量**    | 任务得分：<br>• NarrativeQA — ROUGE-L<br>• Qasper — EM / F1<br>• MultiFieldQA — Acc | 与全缓存 baseline 对比，关注 ≤ 3% 以内跌幅                     |
| **一致性**   | 输出差分、人工评估                                                                      | 抽样比对压缩/完整输出的事实一致性                                 |
| **注意力行为** | Head Specialization Score<br>Cache Efficiency Ratio = 任务得分 ÷ 压缩率               | 量化头专业化 & 单位缓存性能收益                                 |

| 维度           | 具体取值                                                                                              | 设计目的 & 备注                                         |
| ------------ | ------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| **上下文长度**    | 4K ／ 16K ／ 64K ／ 96K ／ 128K                                                                       | 覆盖从轻负载到极限负载 5 个“路况”；128K 为硬件可承受的上限，用于测试极端压缩下的生存能力 |
| **模型**       | LLaMA-2-7B<br>Mistral-7B<br>OPT-13B<br>Qwen-14B                                                   | 覆盖不同架构（标准 vs 滑窗）、不同规模（7B-14B）、中英多语场景，用于验证方法的通用性   |
| **缓存保留率**    | 0.5 % ／ 0.8 % ／ 1 % ／ 2 % ／ 3 % ／ 5 %                                                             | 绘制性能-内存曲线；同时找各方法的“性能崖值”临界点                        |
| **对比方法**     | HACE（完整）<br>HACE-层级 Only<br>HACE-头级 Only<br>CAKE<br>PyramidKV<br>HeadKV                           | 对照融合策略、单维策略和现有 SOTA，检验融合增益                        |
| **任务 / 数据集** | NarrativeQA<br>Qasper<br>MultiFieldQA-en<br>Needle-in-a-Haystack<br>Head Importance Variance Test | LongBench 核心阅读理解 + 自定义诊断场景（检索针 & 头部差异），覆盖理解、检索、推理 |
| **样本数**      | 每任务 100 例（固定子集）                                                                                   | 控制统计方差，保证 64 GB 内存平台在 2 周内跑完                      |
| **硬件 / 环境**  | i7-13700KF + 64 GB DDR5<br>单张 ≥ 24 GB 显存 GPU<br>PyTorch ≥ 2.0（启用 Flash-Attention）                 | 统一环境，显存峰值用 `torch.cuda.max_memory_allocated` 记录   |
